<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>面向c端的项目一定要做ssr | Yolo</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/blog/assets/css/0.styles.671fbdd0.css" as="style"><link rel="preload" href="/blog/assets/js/app.1b73a34e.js" as="script"><link rel="preload" href="/blog/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/blog/assets/js/10.302da1cf.js" as="script"><link rel="prefetch" href="/blog/assets/js/11.49cb5a17.js"><link rel="prefetch" href="/blog/assets/js/12.cc05ffa9.js"><link rel="prefetch" href="/blog/assets/js/13.bc6a6d00.js"><link rel="prefetch" href="/blog/assets/js/14.49df6a75.js"><link rel="prefetch" href="/blog/assets/js/15.672d9069.js"><link rel="prefetch" href="/blog/assets/js/16.8a0222c4.js"><link rel="prefetch" href="/blog/assets/js/17.d45e1d15.js"><link rel="prefetch" href="/blog/assets/js/18.670357ed.js"><link rel="prefetch" href="/blog/assets/js/19.8df598c5.js"><link rel="prefetch" href="/blog/assets/js/20.4493dfa7.js"><link rel="prefetch" href="/blog/assets/js/21.29efc0e0.js"><link rel="prefetch" href="/blog/assets/js/22.dee43871.js"><link rel="prefetch" href="/blog/assets/js/23.12c95ddc.js"><link rel="prefetch" href="/blog/assets/js/24.fc85ab8b.js"><link rel="prefetch" href="/blog/assets/js/25.d2553c7d.js"><link rel="prefetch" href="/blog/assets/js/26.13251b4e.js"><link rel="prefetch" href="/blog/assets/js/27.704b5b19.js"><link rel="prefetch" href="/blog/assets/js/28.073d1c04.js"><link rel="prefetch" href="/blog/assets/js/29.82ede666.js"><link rel="prefetch" href="/blog/assets/js/3.420c64ab.js"><link rel="prefetch" href="/blog/assets/js/30.4e4e5bbf.js"><link rel="prefetch" href="/blog/assets/js/31.7ac6d421.js"><link rel="prefetch" href="/blog/assets/js/32.1a06c393.js"><link rel="prefetch" href="/blog/assets/js/33.7eb5807c.js"><link rel="prefetch" href="/blog/assets/js/34.44b85fd5.js"><link rel="prefetch" href="/blog/assets/js/35.3bcdab5e.js"><link rel="prefetch" href="/blog/assets/js/36.4b30ada3.js"><link rel="prefetch" href="/blog/assets/js/37.372eef9f.js"><link rel="prefetch" href="/blog/assets/js/38.eb5538b0.js"><link rel="prefetch" href="/blog/assets/js/39.615f174c.js"><link rel="prefetch" href="/blog/assets/js/4.d12742be.js"><link rel="prefetch" href="/blog/assets/js/40.b9313f5d.js"><link rel="prefetch" href="/blog/assets/js/41.9120b576.js"><link rel="prefetch" href="/blog/assets/js/42.f5a93f99.js"><link rel="prefetch" href="/blog/assets/js/43.12e57085.js"><link rel="prefetch" href="/blog/assets/js/44.5f50fa3f.js"><link rel="prefetch" href="/blog/assets/js/45.167bfe07.js"><link rel="prefetch" href="/blog/assets/js/46.2c467463.js"><link rel="prefetch" href="/blog/assets/js/47.d6509dea.js"><link rel="prefetch" href="/blog/assets/js/5.216cae74.js"><link rel="prefetch" href="/blog/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/blog/assets/js/7.9c9172a7.js"><link rel="prefetch" href="/blog/assets/js/8.c310a593.js"><link rel="prefetch" href="/blog/assets/js/9.d9b0c4aa.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.671fbdd0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Yolo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/internet/计算机网络简史.html" class="nav-link">
  计网
</a></div><div class="nav-item"><a href="/blog/frame/" class="nav-link router-link-active">
  框架
</a></div><div class="nav-item"><a href="/blog/utils/源码阅读.html" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="/blog/interview/vue/" class="nav-link">
  面试
</a></div> <a href="https://github.com/SetoInlandSea/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/internet/计算机网络简史.html" class="nav-link">
  计网
</a></div><div class="nav-item"><a href="/blog/frame/" class="nav-link router-link-active">
  框架
</a></div><div class="nav-item"><a href="/blog/utils/源码阅读.html" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="/blog/interview/vue/" class="nav-link">
  面试
</a></div> <a href="https://github.com/SetoInlandSea/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>计网</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/internet/计算机网络简史.html" class="sidebar-link">计算机网络简史</a></li><li><a href="/blog/internet/OSI七层模型.html" class="sidebar-link">OSI七层模型</a></li><li><a href="/blog/internet/TCP_IP协议群.html" class="sidebar-link">TCP_IP协议群</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/frame/" aria-current="page" class="sidebar-link">首页</a></li><li><a href="/blog/frame/vue/vue3.0项目工程环境.html" class="sidebar-link">vue3.0项目工程环境</a></li><li><a href="/blog/frame/vue/vue3.html" class="sidebar-link">vue3</a></li><li><a href="/blog/frame/vue/大文件上传.html" class="sidebar-link">大文件上传</a></li><li><a href="/blog/frame/react/" class="sidebar-link">react</a></li><li><a href="/blog/frame/other/nuxt.html" aria-current="page" class="active sidebar-link">nuxt</a><ul class="sidebar-sub-headers"></ul></li><li><a href="/blog/frame/other/electron.html" class="sidebar-link">electron</a></li><li><a href="/blog/frame/常用的方法.html" class="sidebar-link">常用的方法</a></li><li><a href="/blog/frame/字符串技巧.html" class="sidebar-link">字符串技巧</a></li><li><a href="/blog/frame/黑魔法.html" class="sidebar-link">黑魔法</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/utils/源码阅读.html" class="sidebar-link">源码阅读</a></li><li><a href="/blog/utils/Chrome debugger.html" class="sidebar-link">Chrome debugger</a></li><li><a href="/blog/utils/git.html" class="sidebar-link">git</a></li><li><a href="/blog/utils/Chrome扩展插件.html" class="sidebar-link">Chrome扩展插件</a></li><li><a href="/blog/utils/npm发布.html" class="sidebar-link">npm发布</a></li><li><a href="/blog/utils/shell.html" class="sidebar-link">shell</a></li><li><a href="/blog/utils/前端工具.html" class="sidebar-link">前端工具</a></li><li><a href="/blog/utils/webpack.html" class="sidebar-link">webpack</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>产品</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>分享</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h5 id="面向c端的项目一定要做ssr"><a href="#面向c端的项目一定要做ssr" class="header-anchor">#</a> 面向c端的项目一定要做ssr</h5> <h3 id="传统的vue纯浏览器渲染"><a href="#传统的vue纯浏览器渲染" class="header-anchor">#</a> 传统的vue纯浏览器渲染</h3> <p>npm run build 打包 把打包的东西放到服务器上 整个的生成是通过在**浏览器执行js **
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1636943800402-17b66feb-fd06-4d1a-8ef0-304733271d6c.png#clientId=u85b1f32b-b9e4-4&amp;from=paste&amp;height=1116&amp;id=ud5687010&amp;name=image.png&amp;originHeight=1116&amp;originWidth=2208&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=424226&amp;status=done&amp;style=none&amp;taskId=ueab5097e-b425-4a3f-ab11-a920fd8b1fa&amp;title=&amp;width=2208" alt="image.png"></p> <h3 id="ssr服务端渲染"><a href="#ssr服务端渲染" class="header-anchor">#</a> ssr服务端渲染</h3> <h5 id="在服务端执行js代码-场景-面向c端的项目-seo-有利于搜索引擎优化"><a href="#在服务端执行js代码-场景-面向c端的项目-seo-有利于搜索引擎优化" class="header-anchor">#</a> 在服务端执行js代码 场景：面向C端的项目   SEO  有利于搜索引擎优化</h5> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1637293019384-fd2d654b-c2ce-4274-a197-01bcec0c2756.png#clientId=ua55684b8-a44e-4&amp;from=paste&amp;height=1036&amp;id=u685fc1d5&amp;name=image.png&amp;originHeight=1036&amp;originWidth=1992&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=269062&amp;status=done&amp;style=none&amp;taskId=u059b8448-9c80-4dc6-b36a-cd4d82495e8&amp;title=&amp;width=1992" alt="image.png"></p> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1636945671674-30427aec-6902-4782-ab5a-373dfd009830.png#clientId=u85b1f32b-b9e4-4&amp;from=paste&amp;height=1092&amp;id=u580c42c6&amp;name=image.png&amp;originHeight=1092&amp;originWidth=2078&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=401001&amp;status=done&amp;style=none&amp;taskId=ua3b7a417-0780-4bb6-bc3a-c5ae8204c7e&amp;title=&amp;width=2078" alt="image.png"></p> <h3 id="基础ssr的实现"><a href="#基础ssr的实现" class="header-anchor">#</a> 基础ssr的实现</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1636963910562-d14dacc8-2b4a-474e-93e2-962cf940b7e5.png#clientId=u53b04b67-98b8-4&amp;from=paste&amp;height=495&amp;id=u2d2b218e&amp;name=image.png&amp;originHeight=495&amp;originWidth=1080&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=263596&amp;status=done&amp;style=none&amp;taskId=ua0ccd4a3-cab2-4bf0-a09a-4ebb5027c2c&amp;title=&amp;width=1080" alt="image.png">
把生成的 vue实例转成html  <a href="https://www.cnblogs.com/pengdt/p/12304026.html" target="_blank" rel="noopener noreferrer">Vue-Server-Renderer<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1636946283437-747a615a-6489-467a-a4a4-7211cd8ac17d.png#clientId=u53b04b67-98b8-4&amp;from=paste&amp;height=674&amp;id=u6eba3481&amp;name=image.png&amp;originHeight=674&amp;originWidth=1406&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=593889&amp;status=done&amp;style=none&amp;taskId=u2f6dfde2-cdfb-44bf-a99d-4b714963311&amp;title=&amp;width=1406" alt="image.png">
涉及的文件修改如下</p> <h4 id="_1-main-js-src-main-js"><a href="#_1-main-js-src-main-js" class="header-anchor">#</a> 1. main.js src/main.js</h4> <p>每一次访问都必须要创建一个新的实例 所以要写成一个方法 每次访问都调用createApp
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1636961103956-850eac35-77f3-4414-beb3-89586dd606e4.png#clientId=u53b04b67-98b8-4&amp;from=paste&amp;height=622&amp;id=ub1d7e577&amp;name=image.png&amp;originHeight=622&amp;originWidth=796&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=452495&amp;status=done&amp;style=none&amp;taskId=uac4f44da-917f-42ae-ae85-3d0acc66f89&amp;title=&amp;width=796" alt="image.png"></p> <h4 id="_2-router-src-router-index-js"><a href="#_2-router-src-router-index-js" class="header-anchor">#</a> 2. router src/router/index.js</h4> <h5 id="⚠️-路由只能是history模式"><a href="#⚠️-路由只能是history模式" class="header-anchor">#</a> ⚠️ 路由只能是history模式</h5> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1636947137537-bdf1db66-d02b-4772-8d71-fd4253206f2e.png#clientId=u53b04b67-98b8-4&amp;from=paste&amp;height=703&amp;id=ub53f80e4&amp;name=image.png&amp;originHeight=972&amp;originWidth=906&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=532522&amp;status=done&amp;style=none&amp;taskId=u5679f3e9-2fe3-4622-8d66-f3f635e84f0&amp;title=&amp;width=655" alt="image.png"></p> <h4 id="_3-serve-js-src-client-js"><a href="#_3-serve-js-src-client-js" class="header-anchor">#</a> 3. serve.js  src/client.js</h4> <p>生成vue实例
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1636962629712-4a129522-b013-453a-9d65-14ebb0bebcab.png#clientId=u53b04b67-98b8-4&amp;from=drop&amp;id=ucbbc61ac&amp;name=%E6%88%AA%E5%B1%8F2021-11-15%20%E4%B8%8B%E5%8D%883.50.15.png&amp;originHeight=518&amp;originWidth=936&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=330728&amp;status=done&amp;style=none&amp;taskId=u0f6d1c3d-d6cd-42f1-84d5-477a007bda5&amp;title=" alt="截屏2021-11-15 下午3.50.15.png"></p> <h4 id="_4-客户端激活-src-client-js"><a href="#_4-客户端激活-src-client-js" class="header-anchor">#</a> 4. 客户端激活  src/client.js</h4> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1636962694217-dfcb049d-459b-4164-b0f8-a3205f11bdf7.png#clientId=u53b04b67-98b8-4&amp;from=paste&amp;height=376&amp;id=u4c8305bd&amp;name=image.png&amp;originHeight=376&amp;originWidth=896&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=219793&amp;status=done&amp;style=none&amp;taskId=u4aeb0231-ee11-4f51-b162-f3120ea5be3&amp;title=&amp;width=896" alt="image.png"></p> <h4 id="_5-打包"><a href="#_5-打包" class="header-anchor">#</a> 5. 打包</h4> <p>webpack.base.conf.js
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1637128199972-c9d12b3d-8d3b-4f1b-b93d-a1519d3cd2cd.png#clientId=u59c3d412-293d-4&amp;from=paste&amp;height=492&amp;id=u72374252&amp;name=image.png&amp;originHeight=492&amp;originWidth=850&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=328300&amp;status=done&amp;style=none&amp;taskId=u2fa8121a-9696-47fd-af03-4efd53bb499&amp;title=&amp;width=850" alt="image.png"></p> <p>客户端打包配置文件 build/webpack.build.conf.js
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1637128356665-e8a89d42-7683-4d30-841e-3591e14c979e.png#clientId=u59c3d412-293d-4&amp;from=paste&amp;height=394&amp;id=u37c76d3e&amp;name=image.png&amp;originHeight=394&amp;originWidth=889&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=232446&amp;status=done&amp;style=none&amp;taskId=ud99cd7bc-821f-4a9f-abae-9215812566b&amp;title=&amp;width=889" alt="image.png">
服务端打包配置文件
webpack默认的打包，是在以浏览区上面跑为目标的 指定node环境的规范commonjs
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1637128516413-cf3620bd-bfc7-48f7-baa3-3e133c14be54.png#clientId=u59c3d412-293d-4&amp;from=paste&amp;height=448&amp;id=u06997bf6&amp;name=image.png&amp;originHeight=448&amp;originWidth=885&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=282388&amp;status=done&amp;style=none&amp;taskId=u815327f4-e5ac-4c78-b321-3870003aa7e&amp;title=&amp;width=885" alt="image.png">
package.json
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1637128543684-0ff33175-24a0-497f-bf18-99bbebfc6064.png#clientId=u59c3d412-293d-4&amp;from=paste&amp;height=502&amp;id=u75737ab8&amp;name=image.png&amp;originHeight=502&amp;originWidth=946&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=358058&amp;status=done&amp;style=none&amp;taskId=u5dc18888-a4fe-4375-a285-a7578365b7c&amp;title=&amp;width=946" alt="image.png"></p> <h4 id="_6-server-js"><a href="#_6-server-js" class="header-anchor">#</a> 6. server.js</h4> <h5 id="服务端打包入口-要在服务器上跑的"><a href="#服务端打包入口-要在服务器上跑的" class="header-anchor">#</a> 服务端打包入口  要在服务器上跑的</h5> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1637129834748-79a89aa4-8568-4a07-94b1-03d736d9060e.png#clientId=u79024e49-f0fd-4&amp;from=paste&amp;height=549&amp;id=u1a59008d&amp;name=image.png&amp;originHeight=549&amp;originWidth=1022&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=398259&amp;status=done&amp;style=none&amp;taskId=u85afe642-e1f7-406f-8982-c35c44b9e63&amp;title=&amp;width=1022" alt="image.png"></p> <ol start="7"><li>index.ssr.html    <div id="app"></div>去掉 <div id="app"></div>加在src/App.vue里</li></ol> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1637129351895-f7817367-aa84-4964-a78f-9209f0c8d9da.png#clientId=u59c3d412-293d-4&amp;from=paste&amp;height=580&amp;id=u1105e38c&amp;name=image.png&amp;originHeight=580&amp;originWidth=1049&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=227893&amp;status=done&amp;style=none&amp;taskId=u78d49121-a424-4cec-92c5-c477d146406&amp;title=&amp;width=1049" alt="image.png"> <img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1637130069102-408f577e-c721-4063-a360-e6c772affd5b.png#clientId=u79024e49-f0fd-4&amp;from=paste&amp;height=467&amp;id=u46dd16fc&amp;name=image.png&amp;originHeight=467&amp;originWidth=852&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=217822&amp;status=done&amp;style=none&amp;taskId=uef60f74a-76ac-49f4-ab4e-6117c498711&amp;title=&amp;width=852" alt="image.png"></p> <h3 id="nuxt"><a href="#nuxt" class="header-anchor">#</a> NUXT</h3> <p>Nuxt.js 是一个基于 Vue.js 的通用应用框架，一个用于Vue.js 开发SSR应用的一站式解决方案。
<a href="https://zhuanlan.zhihu.com/p/89484871" target="_blank" rel="noopener noreferrer">https://zhuanlan.zhihu.com/p/89484871<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h1 id="手机端调试"><a href="#手机端调试" class="header-anchor">#</a> 手机端调试</h1> <p>mac获取IPV4
ipconfig getifaddr en0
<img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1651561270979-b7dd39ab-a557-468d-af38-345556854abc.png#clientId=u3edb182b-eea9-4&amp;from=paste&amp;height=470&amp;id=uf9d479ab&amp;name=image.png&amp;originHeight=940&amp;originWidth=1434&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=130905&amp;status=done&amp;style=none&amp;taskId=u3e056f62-422d-4eed-a2cf-fb87be77197&amp;title=&amp;width=717" alt="image.png"></p> <h1 id=""><a href="#" class="header-anchor">#</a></h1> <h1 id="ssr部署"><a href="#ssr部署" class="header-anchor">#</a> ssr部署</h1> <p><a href="https://wenku.baidu.com/view/51d2443cff4ffe4733687e21af45b307e871f98c.html" target="_blank" rel="noopener noreferrer">https://wenku.baidu.com/view/51d2443cff4ffe4733687e21af45b307e871f98c.html<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1650622262276-94ac0226-9447-4014-b115-a2fba466c57e.png#clientId=uc0ebab56-7fa7-4&amp;from=paste&amp;height=214&amp;id=ube6316f3&amp;name=image.png&amp;originHeight=214&amp;originWidth=1124&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=81040&amp;status=done&amp;style=none&amp;taskId=u9b609975-586c-4b18-9878-9814f4bd70e&amp;title=&amp;width=1124" alt="image.png"></p> <h1 id="fetch或者asyncdata这2个方法在layouts和components中是失效的"><a href="#fetch或者asyncdata这2个方法在layouts和components中是失效的" class="header-anchor">#</a> <em>fetch或者asyncData这2个方法在layouts和components中是失效的</em></h1> <h1 id="nuxt-出现-rangeerror-maximum-call-stack-size-exceeded"><a href="#nuxt-出现-rangeerror-maximum-call-stack-size-exceeded" class="header-anchor">#</a> Nuxt 出现 RangeError Maximum call stack size exceeded</h1> <p>经过排查发现问题是，components引入的组件配置名称的时候，<a href="https://so.csdn.net/so/search?q=Component&amp;spm=1001.2101.3001.7020" target="_blank" rel="noopener noreferrer">Component<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>的名字和vue文件的name名字重复，就会出现栈溢出的 error</p> <h3 id="methods中axios跨域"><a href="#methods中axios跨域" class="header-anchor">#</a> methods中axios跨域</h3> <p>注：配置的api前缀只支持asyncData 里的请求
npm i @nuxtjs/axios -D
<img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1650506382957-b192af5b-083f-4afe-bf98-d0bf157eeb02.png#clientId=ue971133e-f02d-4&amp;from=paste&amp;height=734&amp;id=uaede373c&amp;name=image.png&amp;originHeight=734&amp;originWidth=1656&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=216217&amp;status=done&amp;style=none&amp;taskId=u455d611c-3b56-47bb-972a-8fb07fd8a94&amp;title=&amp;width=1656" alt="image.png"></p> <h3 id="动态绑定class失败-window-addeventlistener"><a href="#动态绑定class失败-window-addeventlistener" class="header-anchor">#</a> 动态绑定class失败   window.addEventListener</h3> <h3 id="-2"><a href="#-2" class="header-anchor">#</a> <img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1650278973042-90874029-5db9-4b60-b6d5-ab1808f1c08e.png#clientId=u00b6b9fb-fe0c-4&amp;from=paste&amp;height=1350&amp;id=u625acf6e&amp;name=image.png&amp;originHeight=1350&amp;originWidth=1338&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=520647&amp;status=done&amp;style=none&amp;taskId=u6062cf3c-aba1-44b2-8664-03dc17ea778&amp;title=&amp;width=1338" alt="image.png"></h3> <h3 id="根据github-nuxt上的-issue第1552条-提示-要将-v-if-改为-v-show-语法。"><a href="#根据github-nuxt上的-issue第1552条-提示-要将-v-if-改为-v-show-语法。" class="header-anchor">#</a> 根据github nuxt上的 issue第1552条 提示，要将 v-if 改为 v-show 语法。</h3> <h3 id="img-src不显示"><a href="#img-src不显示" class="header-anchor">#</a> <img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1650273585315-e9750325-8c8b-4c03-8c53-5e3b92e9dcde.png#clientId=ub57f7d44-3988-4&amp;from=paste&amp;height=324&amp;id=ua80a928f&amp;name=image.png&amp;originHeight=324&amp;originWidth=3508&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=303199&amp;status=done&amp;style=none&amp;taskId=uaa1b2d5a-f022-46b2-be9d-4d468ae3c28&amp;title=&amp;width=3508" alt="image.png">img src不显示</h3> <p>**解决方法1：
**把图片存在服务器，使用网络路径，
<strong>解决方法2：</strong>
使用require和相对路径引用图片
{ src: require(&quot;../static/images/1.png&quot;) }</p> <h3 id="element自定义主题-不推荐在sass中使用除法运算符"><a href="#element自定义主题-不推荐在sass中使用除法运算符" class="header-anchor">#</a> element自定义主题 不推荐在sass中使用除法运算符/</h3> <p>: Using / for division outside of calc() is deprecated and will be removed in Dart Sass 2.0.0.
在 calc() 之外使用 / 进行除法已被弃用，并将在 Dart Sass 2.0.0 中删除。
<a href="https://stackoverflow.com/questions/67631879/nuxtjs-vuetify-throwing-lots-of-using-for-division-is-deprecated-and-will-be" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/67631879/nuxtjs-vuetify-throwing-lots-of-using-for-division-is-deprecated-and-will-be<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1647319750522-d01ba091-e700-42da-9077-25c72d855687.png#clientId=u1bad42e8-d29d-4&amp;from=paste&amp;height=611&amp;id=u5d842c30&amp;name=image.png&amp;originHeight=1222&amp;originWidth=1164&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=407282&amp;status=done&amp;style=none&amp;taskId=u208d4e70-7e7e-4889-9ac0-be5ee796190&amp;title=&amp;width=582" alt="image.png"></p> <h3 id="sass-loader版本问题"><a href="#sass-loader版本问题" class="header-anchor">#</a> sass-loader版本问题</h3> <p><img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1647318064293-163619f8-1ee8-4b83-8c9a-3034a595ce95.png#clientId=uc84be5f8-8167-4&amp;from=paste&amp;height=370&amp;id=u93e7e41a&amp;name=image.png&amp;originHeight=740&amp;originWidth=1386&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=88052&amp;status=done&amp;style=none&amp;taskId=uc3eab07b-0447-4d3a-a4f6-8ce7efe2b32&amp;title=&amp;width=693" alt="image.png">
sass-loader &gt; 10 不支持vue2.0
<a href="https://stackoverflow.com/questions/66082397/typeerror-this-getoptions-is-not-a-function" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/66082397/typeerror-this-getoptions-is-not-a-function<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1647318736729-bc0d9e34-c8e1-494f-9194-c22d688ea792.png#clientId=uc84be5f8-8167-4&amp;from=paste&amp;height=269&amp;id=u255c304b&amp;name=image.png&amp;originHeight=538&amp;originWidth=1576&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=90234&amp;status=done&amp;style=none&amp;taskId=uc57d7419-ed21-4d9f-8320-f864b8ce680&amp;title=&amp;width=788" alt="image.png"></p> <h3 id="element样式穿透"><a href="#element样式穿透" class="header-anchor">#</a> element样式穿透</h3> <p><img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1647318483727-ca16d9a8-ec79-46fe-ae95-3489e00e6bb9.png#clientId=uc84be5f8-8167-4&amp;from=paste&amp;height=70&amp;id=u5445dd54&amp;name=image.png&amp;originHeight=140&amp;originWidth=1492&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=132993&amp;status=done&amp;style=none&amp;taskId=u03d8c626-d9dd-4376-90a8-05474b8acdc&amp;title=&amp;width=746" alt="image.png">
于是我尝试用 <strong>::v-deep</strong> 替换 /deep/ ，成功解决了问题。
<img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1647318413985-bbc04f93-dc8a-4cd9-96ee-9f0f89dc9559.png#clientId=uc84be5f8-8167-4&amp;from=paste&amp;height=178&amp;id=ud575ce30&amp;name=image.png&amp;originHeight=228&amp;originWidth=730&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=44525&amp;status=done&amp;style=none&amp;taskId=uf2f1f03b-e8de-485c-90da-82a5beb59cb&amp;title=&amp;width=570" alt="image.png"></p> <h3 id="document-is-not-defined"><a href="#document-is-not-defined" class="header-anchor">#</a> <a href="https://stackoverflow.com/questions/46058544/document-is-not-defined-in-nuxt-js" target="_blank" rel="noopener noreferrer">document is not define<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>d</h3> <h3 id="由于nuxt-js会在服务端渲染页面-而服务端并没有window或documen"><a href="#由于nuxt-js会在服务端渲染页面-而服务端并没有window或documen" class="header-anchor">#</a> 由于nuxt.js会在服务端渲染页面，而服务端并没有window或documen</h3> <p><a href="https://stackoverflow.com/questions/46058544/document-is-not-defined-in-nuxt-js" target="_blank" rel="noopener noreferrer">https://stackoverflow.com/questions/46058544/document-is-not-defined-in-nuxt-js<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> <img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1650453007623-4c33d334-7bca-4e84-a17e-623bc36c025a.png#clientId=u75d33a12-5762-4&amp;from=paste&amp;height=1314&amp;id=ub5da26aa&amp;name=image.png&amp;originHeight=1314&amp;originWidth=1612&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=587069&amp;status=done&amp;style=none&amp;taskId=ud3975e5e-6f81-49ad-9442-e2e7838f646&amp;title=&amp;width=1612" alt="image.png"> <img src="https://cdn.nlark.com/yuque/0/2022/png/292785/1647318629137-171ec8a4-f4cd-472a-a6a7-14e475a90a39.png#clientId=uc84be5f8-8167-4&amp;from=paste&amp;height=387&amp;id=uf5c63ff9&amp;name=image.png&amp;originHeight=774&amp;originWidth=1214&amp;originalType=binary&amp;ratio=1&amp;rotation=0&amp;showTitle=false&amp;size=285316&amp;status=done&amp;style=none&amp;taskId=uc8800df3-081b-4b60-b2c8-518144c4d02&amp;title=&amp;width=607" alt="image.png"></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/SetoInlandSea/blog/edit/docs/docs/frame/other/nuxt.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/frame/react/" class="prev">
        react
      </a></span> <span class="next"><a href="/blog/frame/other/electron.html">
        electron
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.1b73a34e.js" defer></script><script src="/blog/assets/js/2.733019b2.js" defer></script><script src="/blog/assets/js/10.302da1cf.js" defer></script>
  </body>
</html>
