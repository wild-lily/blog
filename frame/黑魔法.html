<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>https://github.com/jed/140bytes/wiki/Byte-saving-techniques | Yolo</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="">
    <meta name="referrer" content="no-referrer">
    
    <link rel="preload" href="/blog/assets/css/0.styles.671fbdd0.css" as="style"><link rel="preload" href="/blog/assets/js/app.1b73a34e.js" as="script"><link rel="preload" href="/blog/assets/js/2.733019b2.js" as="script"><link rel="preload" href="/blog/assets/js/19.8df598c5.js" as="script"><link rel="prefetch" href="/blog/assets/js/10.302da1cf.js"><link rel="prefetch" href="/blog/assets/js/11.49cb5a17.js"><link rel="prefetch" href="/blog/assets/js/12.cc05ffa9.js"><link rel="prefetch" href="/blog/assets/js/13.bc6a6d00.js"><link rel="prefetch" href="/blog/assets/js/14.49df6a75.js"><link rel="prefetch" href="/blog/assets/js/15.672d9069.js"><link rel="prefetch" href="/blog/assets/js/16.8a0222c4.js"><link rel="prefetch" href="/blog/assets/js/17.d45e1d15.js"><link rel="prefetch" href="/blog/assets/js/18.670357ed.js"><link rel="prefetch" href="/blog/assets/js/20.4493dfa7.js"><link rel="prefetch" href="/blog/assets/js/21.29efc0e0.js"><link rel="prefetch" href="/blog/assets/js/22.dee43871.js"><link rel="prefetch" href="/blog/assets/js/23.12c95ddc.js"><link rel="prefetch" href="/blog/assets/js/24.fc85ab8b.js"><link rel="prefetch" href="/blog/assets/js/25.d2553c7d.js"><link rel="prefetch" href="/blog/assets/js/26.13251b4e.js"><link rel="prefetch" href="/blog/assets/js/27.704b5b19.js"><link rel="prefetch" href="/blog/assets/js/28.073d1c04.js"><link rel="prefetch" href="/blog/assets/js/29.82ede666.js"><link rel="prefetch" href="/blog/assets/js/3.420c64ab.js"><link rel="prefetch" href="/blog/assets/js/30.4e4e5bbf.js"><link rel="prefetch" href="/blog/assets/js/31.7ac6d421.js"><link rel="prefetch" href="/blog/assets/js/32.1a06c393.js"><link rel="prefetch" href="/blog/assets/js/33.7eb5807c.js"><link rel="prefetch" href="/blog/assets/js/34.44b85fd5.js"><link rel="prefetch" href="/blog/assets/js/35.3bcdab5e.js"><link rel="prefetch" href="/blog/assets/js/36.4b30ada3.js"><link rel="prefetch" href="/blog/assets/js/37.372eef9f.js"><link rel="prefetch" href="/blog/assets/js/38.eb5538b0.js"><link rel="prefetch" href="/blog/assets/js/39.615f174c.js"><link rel="prefetch" href="/blog/assets/js/4.d12742be.js"><link rel="prefetch" href="/blog/assets/js/40.b9313f5d.js"><link rel="prefetch" href="/blog/assets/js/41.9120b576.js"><link rel="prefetch" href="/blog/assets/js/42.f5a93f99.js"><link rel="prefetch" href="/blog/assets/js/43.12e57085.js"><link rel="prefetch" href="/blog/assets/js/44.5f50fa3f.js"><link rel="prefetch" href="/blog/assets/js/45.167bfe07.js"><link rel="prefetch" href="/blog/assets/js/46.2c467463.js"><link rel="prefetch" href="/blog/assets/js/47.d6509dea.js"><link rel="prefetch" href="/blog/assets/js/5.216cae74.js"><link rel="prefetch" href="/blog/assets/js/6.2d0a63f8.js"><link rel="prefetch" href="/blog/assets/js/7.9c9172a7.js"><link rel="prefetch" href="/blog/assets/js/8.c310a593.js"><link rel="prefetch" href="/blog/assets/js/9.d9b0c4aa.js">
    <link rel="stylesheet" href="/blog/assets/css/0.styles.671fbdd0.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/blog/" class="home-link router-link-active"><!----> <span class="site-name">Yolo</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/blog/internet/计算机网络简史.html" class="nav-link">
  计网
</a></div><div class="nav-item"><a href="/blog/frame/" class="nav-link router-link-active">
  框架
</a></div><div class="nav-item"><a href="/blog/utils/源码阅读.html" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="/blog/interview/vue/" class="nav-link">
  面试
</a></div> <a href="https://github.com/SetoInlandSea/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/blog/internet/计算机网络简史.html" class="nav-link">
  计网
</a></div><div class="nav-item"><a href="/blog/frame/" class="nav-link router-link-active">
  框架
</a></div><div class="nav-item"><a href="/blog/utils/源码阅读.html" class="nav-link">
  工具
</a></div><div class="nav-item"><a href="/blog/interview/vue/" class="nav-link">
  面试
</a></div> <a href="https://github.com/SetoInlandSea/blog" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>计网</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/internet/计算机网络简史.html" class="sidebar-link">计算机网络简史</a></li><li><a href="/blog/internet/OSI七层模型.html" class="sidebar-link">OSI七层模型</a></li><li><a href="/blog/internet/TCP_IP协议群.html" class="sidebar-link">TCP_IP协议群</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>框架</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/frame/" aria-current="page" class="sidebar-link">首页</a></li><li><a href="/blog/frame/vue/vue3.0项目工程环境.html" class="sidebar-link">vue3.0项目工程环境</a></li><li><a href="/blog/frame/vue/vue3.html" class="sidebar-link">vue3</a></li><li><a href="/blog/frame/vue/大文件上传.html" class="sidebar-link">大文件上传</a></li><li><a href="/blog/frame/react/" class="sidebar-link">react</a></li><li><a href="/blog/frame/other/nuxt.html" class="sidebar-link">nuxt</a></li><li><a href="/blog/frame/other/electron.html" class="sidebar-link">electron</a></li><li><a href="/blog/frame/常用的方法.html" class="sidebar-link">常用的方法</a></li><li><a href="/blog/frame/字符串技巧.html" class="sidebar-link">字符串技巧</a></li><li><a href="/blog/frame/黑魔法.html" class="active sidebar-link">黑魔法</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/blog/frame/黑魔法.html#https-github-com-jed-140bytes-wiki-byte-saving-techniques" class="sidebar-link">https://github.com/jed/140bytes/wiki/Byte-saving-techniques</a></li><li class="sidebar-sub-header"><a href="/blog/frame/黑魔法.html#位算符" class="sidebar-link">位算符</a></li><li class="sidebar-sub-header"><a href="/blog/frame/黑魔法.html#string" class="sidebar-link">String</a></li><li class="sidebar-sub-header"><a href="/blog/frame/黑魔法.html#其他一些花里胡哨的操作" class="sidebar-link">其他一些花里胡哨的操作</a></li></ul></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>工具</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/blog/utils/源码阅读.html" class="sidebar-link">源码阅读</a></li><li><a href="/blog/utils/Chrome debugger.html" class="sidebar-link">Chrome debugger</a></li><li><a href="/blog/utils/git.html" class="sidebar-link">git</a></li><li><a href="/blog/utils/Chrome扩展插件.html" class="sidebar-link">Chrome扩展插件</a></li><li><a href="/blog/utils/npm发布.html" class="sidebar-link">npm发布</a></li><li><a href="/blog/utils/shell.html" class="sidebar-link">shell</a></li><li><a href="/blog/utils/前端工具.html" class="sidebar-link">前端工具</a></li><li><a href="/blog/utils/webpack.html" class="sidebar-link">webpack</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>产品</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>面试</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>分享</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="https-github-com-jed-140bytes-wiki-byte-saving-techniques"><a href="#https-github-com-jed-140bytes-wiki-byte-saving-techniques" class="header-anchor">#</a> <a href="https://github.com/jed/140bytes/wiki/Byte-saving-techniques" target="_blank" rel="noopener noreferrer">https://github.com/jed/140bytes/wiki/Byte-saving-techniques<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></h2> <h2 id="位算符"><a href="#位算符" class="header-anchor">#</a> 位算符</h2> <h3 id="_1-使用左移运算符-迅速得出2的次方"><a href="#_1-使用左移运算符-迅速得出2的次方" class="header-anchor">#</a> 1.使用左移运算符 &lt;&lt; 迅速得出2的次方</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">2</span>  <span class="token comment">// 4, 即 2的2次方</span>
<span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">10</span> <span class="token comment">// 1024, 即 2的10次方</span>

<span class="token comment">// 但是要注意使用场景</span>
a <span class="token operator">=</span> <span class="token number">2e9</span><span class="token punctuation">;</span>   <span class="token comment">// 2000000000</span>
a <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span>    <span class="token comment">// -294967296</span>
</code></pre></div><h3 id="_2-使用-切换变量-0-或-1"><a href="#_2-使用-切换变量-0-或-1" class="header-anchor">#</a> 2. 使用 <code>^</code> 切换变量 0 或 1</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// --- before ---</span>
<span class="token comment">// if 判断</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>toggle<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    toggle <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    toggle <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 三目运算符</span>
togle <span class="token operator">=</span> toggle <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>

<span class="token comment">// --- after ---</span>
toggle <span class="token operator">^=</span> <span class="token number">1</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-使用-判断奇偶性"><a href="#_3-使用-判断奇偶性" class="header-anchor">#</a> 3. 使用 <code>&amp;</code> 判断奇偶性</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">7</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">8</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token punctuation">;</span>   <span class="token comment">// 0</span>
</code></pre></div><h3 id="_4-使用-将数字转为布尔值"><a href="#_4-使用-将数字转为布尔值" class="header-anchor">#</a> 4. 使用 <code>!!</code> 将数字转为布尔值</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>       <span class="token comment">// false</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>      <span class="token comment">// true</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">!</span><span class="token operator">!</span><span class="token number">0.71</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    <span class="token comment">// true</span>
</code></pre></div><h3 id="_5-使用-、-、-、-、-来取整"><a href="#_5-使用-、-、-、-、-来取整" class="header-anchor">#</a> 5. 使用<code>~</code>、<code>&gt;&gt;</code>、<code>&lt;&lt;</code>、<code>&gt;&gt;&gt;</code>、<code>|</code>来取整</h3> <p>相当于使用了 Math.floor()</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token operator">~</span><span class="token operator">~</span><span class="token number">11.71</span><span class="token punctuation">)</span>     <span class="token comment">// 11</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11.71</span> <span class="token operator">&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">// 11</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11.71</span> <span class="token operator">&lt;&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>  <span class="token comment">// 11</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11.71</span> <span class="token operator">|</span> <span class="token number">0</span><span class="token punctuation">)</span>   <span class="token comment">// 11</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token number">11.71</span> <span class="token operator">&gt;&gt;&gt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// 11  注意 &gt;&gt;&gt; 不可对负数取整</span>
</code></pre></div><h3 id="_6-使用-来完成值交换"><a href="#_6-使用-来完成值交换" class="header-anchor">#</a> 6. 使用<code>^</code>来完成值交换</h3> <p>在 ES6 的解构赋值出来之前，用这种方式会更快(但必须是整数)</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// --- before ---</span>
<span class="token keyword">let</span> temp <span class="token operator">=</span> a<span class="token punctuation">;</span> a <span class="token operator">=</span> b<span class="token punctuation">;</span> b <span class="token operator">=</span> temp<span class="token punctuation">;</span> <span class="token comment">// 传统，但需要借助临时变量</span>
b <span class="token operator">=</span> <span class="token punctuation">[</span>a<span class="token punctuation">,</span> a <span class="token operator">=</span> b<span class="token punctuation">]</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token comment">// 借助数组</span>

<span class="token comment">// --- after ---</span>
<span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token number">7</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">1</span>
a <span class="token operator">^=</span> b
b <span class="token operator">^=</span> a
a <span class="token operator">^=</span> b
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span>   <span class="token comment">// 1</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>b<span class="token punctuation">)</span>   <span class="token comment">// 7</span>

<span class="token punctuation">[</span>a<span class="token punctuation">,</span> b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>b<span class="token punctuation">,</span> a<span class="token punctuation">]</span><span class="token punctuation">;</span> <span class="token comment">// ES6，解构赋值</span>
</code></pre></div><h3 id="_7-使用-判断符号是否相同"><a href="#_7-使用-判断符号是否相同" class="header-anchor">#</a> 7. 使用<code>^</code>判断符号是否相同</h3> <p>(a ^ b) &gt;= 0; //  true 相同; false 不相同
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609844733968-28afa802-dfe4-42ef-8309-4469d4d2edc6.png#align=left&amp;display=inline&amp;height=217&amp;name=image.png&amp;originHeight=434&amp;originWidth=588&amp;size=18792&amp;status=done&amp;style=none&amp;width=294" alt="image.png"></p> <h3 id="_8-使用-来检查数字是否不相等"><a href="#_8-使用-来检查数字是否不相等" class="header-anchor">#</a> 8. 使用^来检查数字是否不相等</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// --- before ---</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">!==</span> <span class="token number">1171</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// --- after ---</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>a <span class="token operator">^</span> <span class="token number">1171</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span><span class="token punctuation">;</span> 
</code></pre></div><h3 id="_9-n-n-1-如果为-0-说明-n-是-2-的整数幂"><a href="#_9-n-n-1-如果为-0-说明-n-是-2-的整数幂" class="header-anchor">#</a> 9. <code>n &amp; (n - 1)</code>，如果为 0，说明 n 是 2 的整数幂</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609844825517-abc68d88-4db2-4013-971c-df3031edb21b.png#align=left&amp;display=inline&amp;height=213&amp;name=image.png&amp;originHeight=426&amp;originWidth=574&amp;size=21578&amp;status=done&amp;style=none&amp;width=287" alt="image.png"></p> <h3 id="_10-使用-a-0-5-0-来替代-math-round"><a href="#_10-使用-a-0-5-0-来替代-math-round" class="header-anchor">#</a> 10. 使用 <code>A + 0.5 | 0</code> 来替代 Math.round()</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609844922959-b3d92823-22ac-495d-8b0f-3a62ef67c49d.png#align=left&amp;display=inline&amp;height=289&amp;name=image.png&amp;originHeight=578&amp;originWidth=936&amp;size=94458&amp;status=done&amp;style=none&amp;width=468" alt="image.png">
如果是负数，只需要<code>-0.5</code> <img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609844944571-a93a0c30-b2d7-42f4-b17b-6b4b65d40bcd.png#align=left&amp;display=inline&amp;height=133&amp;name=image.png&amp;originHeight=266&amp;originWidth=522&amp;size=44182&amp;status=done&amp;style=none&amp;width=261" alt="image.png"></p> <h2 id="string"><a href="#string" class="header-anchor">#</a> String</h2> <h3 id="_1-使用tostring-16-取随机字符串"><a href="#_1-使用tostring-16-取随机字符串" class="header-anchor">#</a> 1. 使用<code>toString(16)</code>取随机字符串</h3> <p>Math.random().toString(16).substring(2, 15);
.substring() 的第二个参数控制取多少位 (最多可取13位)
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609899417162-b0e12aec-4366-47ae-af59-3a8658c4818c.png#align=left&amp;display=inline&amp;height=184&amp;name=image.png&amp;originHeight=368&amp;originWidth=730&amp;size=117883&amp;status=done&amp;style=none&amp;width=365" alt="image.png"></p> <h3 id="_2-使用-split-0"><a href="#_2-使用-split-0" class="header-anchor">#</a> 2. 使用 split(0)</h3> <p>使用数字来做为 split 的分隔条件可以节省2字节</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// --- before ---</span>
<span class="token string">&quot;alpha,bravo,charlie&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// --- after ---</span>
<span class="token string">&quot;alpha0bravo0charlie&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="_3-使用-link-创建链接"><a href="#_3-使用-link-创建链接" class="header-anchor">#</a> 3. 使用<code>.link()</code> 创建链接</h3> <p>一个鲜为人知的方法，可以快速创建 a 标签</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// --- before ---</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">`</span><span class="token string">&lt;a herf=&quot;www.google.com&quot;&gt;google&lt;/a&gt;</span><span class="token template-punctuation string">`</span></span><span class="token punctuation">;</span>

<span class="token comment">// --- after ---</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token string">'google'</span><span class="token punctuation">.</span><span class="token function">link</span><span class="token punctuation">(</span><span class="token string">'www.google.com'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609899496515-504bb31b-d581-476a-8873-c51493338bb9.png#align=left&amp;display=inline&amp;height=102&amp;name=image.png&amp;originHeight=204&amp;originWidth=654&amp;size=57121&amp;status=done&amp;style=none&amp;width=327" alt="image.png"></p> <h3 id="_3-使用-array-来重复字符"><a href="#_3-使用-array-来重复字符" class="header-anchor">#</a> 3. 使用 <code>Array</code> 来重复字符</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// --- before ---</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> a <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">7</span><span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">)</span> a<span class="token operator">+=</span> <span class="token number">0</span><span class="token punctuation">;</span>

<span class="token comment">// --- after ---</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;000000&quot;</span>
<span class="token keyword">let</span> c <span class="token operator">=</span> <span class="token function">Array</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">'La'</span><span class="token punctuation">)</span> <span class="token comment">// &quot;LaLaLaLaLaLa&quot;</span>

<span class="token comment">// ES6</span>
<span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">.</span><span class="token function">repeat</span><span class="token punctuation">(</span><span class="token number">7</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// &quot;0000000&quot;</span>
</code></pre></div><h2 id="其他一些花里胡哨的操作"><a href="#其他一些花里胡哨的操作" class="header-anchor">#</a> 其他一些花里胡哨的操作</h2> <h3 id="_1-使用当前时间创建一个随机数"><a href="#_1-使用当前时间创建一个随机数" class="header-anchor">#</a> 1. 使用当前时间创建一个随机数</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// --- before ---</span>
<span class="token keyword">let</span> b <span class="token operator">=</span> <span class="token number">0</span> <span class="token operator">|</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">*</span> <span class="token number">100</span>

<span class="token comment">// --- after ---</span>
<span class="token keyword">let</span> a<span class="token punctuation">;</span>
a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">%</span> <span class="token number">100</span><span class="token punctuation">;</span> <span class="token comment">// 两位随机数</span>
a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">%</span> <span class="token number">1000</span><span class="token punctuation">;</span> <span class="token comment">// 三位随机数</span>
a <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Date</span> <span class="token operator">%</span> <span class="token number">10000</span><span class="token punctuation">;</span> <span class="token comment">// 四位随机数...依次类推</span>
<span class="token comment">// 不要在快速循环中使用，因为毫秒可能没有变化；</span>
</code></pre></div><h3 id="_2-一些可以替代-undefined-的操作"><a href="#_2-一些可以替代-undefined-的操作" class="header-anchor">#</a> 2. 一些可以替代 <code>undefined</code> 的操作</h3> <p><code>&quot;&quot;._</code>, <code>1.._</code> 和 <code>0[0]</code> <code>![image.png](https://cdn.nlark.com/yuque/0/2021/png/292785/1609899720188-9a45db91-f501-47ea-bd93-7d2efe16cef2.png#align=left&amp;display=inline&amp;height=157&amp;name=image.png&amp;originHeight=314&amp;originWidth=730&amp;size=69469&amp;status=done&amp;style=none&amp;width=365)</code> <code>void 0</code> 会比写 <code>undefined</code> 要快一些</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">let</span> d <span class="token operator">=</span> <span class="token keyword">void</span> <span class="token number">0</span><span class="token punctuation">;</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>d<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// undefined</span>
</code></pre></div><p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609899828458-30d2f385-8e29-47f3-96fe-e82ebf858534.png#align=left&amp;display=inline&amp;height=126&amp;name=image.png&amp;originHeight=252&amp;originWidth=462&amp;size=37402&amp;status=done&amp;style=none&amp;width=231" alt="image.png"></p> <h3 id="_3-使用-1-0-来替代-infinity"><a href="#_3-使用-1-0-来替代-infinity" class="header-anchor">#</a> 3. 使用 <code>1/0</code> 来替代 <code>Infinity</code></h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// --- before ---</span>
<span class="token punctuation">[</span><span class="token number">Infinity</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">Infinity</span><span class="token punctuation">]</span>

<span class="token comment">// --- after ---</span>
<span class="token punctuation">[</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token operator">-</span><span class="token number">1</span><span class="token operator">/</span><span class="token number">0</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="_4-使用-array-length-0-来清空数组"><a href="#_4-使用-array-length-0-来清空数组" class="header-anchor">#</a> 4. 使用 <code>Array.length = 0</code> 来清空数组</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609900008212-2fc110f9-7fd4-4a0e-b4f8-1d7a0391d9bf.png#align=left&amp;display=inline&amp;height=194&amp;name=image.png&amp;originHeight=388&amp;originWidth=692&amp;size=50313&amp;status=done&amp;style=none&amp;width=346" alt="image.png"></p> <h3 id="_5-使用-array-slice-0-实现数组浅拷贝"><a href="#_5-使用-array-slice-0-实现数组浅拷贝" class="header-anchor">#</a> 5. 使用 <code>Array.slice(0)</code> 实现数组浅拷贝</h3> <p><img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609900023380-558bffe9-6b09-4245-a4e0-d29a722147e1.png#align=left&amp;display=inline&amp;height=148&amp;name=image.png&amp;originHeight=296&amp;originWidth=676&amp;size=49120&amp;status=done&amp;style=none&amp;width=338" alt="image.png"></p> <h3 id="_6-使用-v1-快速判断-ie8-以下的浏览器"><a href="#_6-使用-v1-快速判断-ie8-以下的浏览器" class="header-anchor">#</a> 6. 使用 <code>!+&quot;\v1&quot;</code> 快速判断 IE8 以下的浏览器</h3> <p>chrome
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609900099492-f47bc520-0a62-4fdb-b68e-88902fba521d.png#align=left&amp;display=inline&amp;height=134&amp;name=image.png&amp;originHeight=268&amp;originWidth=1280&amp;size=68870&amp;status=done&amp;style=none&amp;width=640" alt="image.png">
IE 9（10，11）：
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609900113917-b10c72c6-c4d8-4a70-98a5-2994033bbaae.png#align=left&amp;display=inline&amp;height=85&amp;name=image.png&amp;originHeight=170&amp;originWidth=924&amp;size=56881&amp;status=done&amp;style=none&amp;width=462" alt="image.png">
IE 8（7，6，5）：
<img src="https://cdn.nlark.com/yuque/0/2021/png/292785/1609900122422-58df7e9e-2e3e-4573-9f45-c5486d2cc995.png#align=left&amp;display=inline&amp;height=98&amp;name=image.png&amp;originHeight=195&amp;originWidth=922&amp;size=60383&amp;status=done&amp;style=none&amp;width=461" alt="image.png"></p> <h3 id="_7-for-循环条件的简写"><a href="#_7-for-循环条件的简写" class="header-anchor">#</a> 7. for 循环条件的简写</h3> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token comment">// --- before ---</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span>

<span class="token comment">// --- after ---</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">--</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token operator">...</span><span class="token punctuation">}</span> <span class="token comment">// 注意 i-- 后面的分号别漏了</span>
</code></pre></div><p>虽然上述操作能在一定程度上使代码更简洁，但会降低可读性。在目前的大环境下，机器的性能损失远比不上人力的损失，因为升级机器配置的成本远低于维护晦涩代码的成本，所以请谨慎使用这些“黑魔法”。就算要使用，也请加上注释，毕竟，这世上还有很多“麻瓜”需要生存。</p> <p>(!(~+[])+{})[--[~+&quot;&quot;][+[]]<em>[~+[]]+~~!+[]]+({}+[])[[~!+[]]</em>~+[]]</p> <p>转载地址 <a href="https://juejin.cn/post/6844904032146817038" target="_blank" rel="noopener noreferrer">https://juejin.cn/post/6844904032146817038<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/SetoInlandSea/blog/edit/docs/docs/frame/黑魔法.md" target="_blank" rel="noopener noreferrer">编辑</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/blog/frame/字符串技巧.html" class="prev">
        字符串技巧
      </a></span> <span class="next"><a href="/blog/utils/源码阅读.html">
        源码阅读
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/blog/assets/js/app.1b73a34e.js" defer></script><script src="/blog/assets/js/2.733019b2.js" defer></script><script src="/blog/assets/js/19.8df598c5.js" defer></script>
  </body>
</html>
